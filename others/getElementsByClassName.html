<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <h1>Test-getElementsByClassName</h1>
    <script type="text/javascript">
            window.onload=function() {
                function getElesByClassName(node,className){
                    if(node.getElementsByClassName){
                        console.log('支持');
                        return node.getElementsByClassName(className);
                    }else{
                        console.log('不支持');
                        var res = [];
                        var eles = node.getElementsByTagName("*");
                        for(var i=0,len=eles.length;i<len;i++){
                            if(eles[i].getAttribute){
                                if(eles[i].getAttribute("className").indexOf(className) !== -1){
                                    res.push(eles[i]);
                                }else{}
                            }else{}
                        };
                        return res;
                    }
                };

                var div = document.getElementById("div_id");
                var p = getElesByClassName(div,"cls_p");
                if(p){
                    console.log(p.length);
                    console.log(p[0].nodeType);
                    if(p[0].getAttribute){
                        console.log('支持getAttribute');
                        console.log(p[0].getAttribute("userDefined"));
                    }else{
                        console.log('不支持getAttribute');
                    }
                    console.log("p[0].getAttribute('name'): "+typeof p[0].getAttribute("name"));
                    console.log("typeof p[0].name: "+typeof p[0].name)
                    console.log(p[0].childNodes[0].nodeValue)
                }else{
                }
            }
        </script>
    <div id="div_id">
        <p class="cls_p" name='p_name' userDefined="text" >测试一下</p>
    </div>
</body>
</html>