<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>New Web Project</title>
	</head>
	<body>
		<h1>测试作用域相关内容</h1>
		<script type="text/javascript">
			window.onload = function(){
				
				/*
				 * 验证没有块级作用域 
				 */
				var temp = 2;
				if(typeof temp == 'number'){
					var variable = 'Test';
				};
				alert(variable);//Test
				
				for(var i = 0,length =10;i<length;i++){
					//do something you want;
				};
				alert(i);//10
				
				/*
				 * 延长作用域链
				 * ①try-catch的catch块
				 * ②with语句
				 */
				function buildUrl(){
					var qs = '?debug=true';
					with(location){
						var url = href + qs;
					}
					return url;
					//到底是怎么延长作用的还是不是很明白
				};
				var result = buildUrl();
				alert(result);
				
				/*
				 * 声明变量时一定要加var，
				 * 否则变量将添加到全局环境中
				 */
				function add(num1,num2){
					var sum = num1 + num2;//在外部访问sum报错误
					//sum = num1 + num2;//sum将添加到全局环境中
					return sum;
				};
				var result = add(10,5);
				alert(sum);
			};
		</script>
	</body>
</html>

